# 操作系统与系统调用

也许你接触计算机的时间并不长，但是操作系统这个名词估计你并不陌生。除了耳熟能详的来自微软的Windows、苹果的Mac OS之外，也少不了我们的主角Linux操作系统。可是熟悉归熟悉，操作系统内部的工作原理你却不甚明了，甚至连给操作系统下一个恰当而完整的定义都做不到。其实从各个不同的角度看待操作系统，都会有不同的认知和见解。在这本书里，只需要知道操作系统是一个运行在硬件之上，屏蔽了硬件繁多杂乱的操作方式，给上层应用程序提供了简单易用的接口的**资源管理者**就可以了。至于其它角度和认知，随着学习的深入，相信你会逐渐产生自己的认知。

为什么需要操作系统呢？相信大家很容易就能给出自己的理由。我在这里说几个简单的理由，权且抛砖引玉，希望引发大家的思考：假如没有操作系统，那么要在一台计算机上写一个从键盘输入名字xxx，屏幕输出“hello， xxx”的程序要怎么做呢？首先你要懂得键盘按下到接收到字符的一系列过程，要懂得显卡的工作原理，还要懂得字符在内存中的存储方式以及如何发送到显卡的存储区域，最后还要知道如何调用显卡的字符模式来显示字符……我的天，还能不能愉快的用计算机玩耍了。是啊，如果没有一个强大的程序替我们做好这一切幕后的工作，实现一点点微小的功能都要这么繁琐，这也太影响生产力了。还有呢？如果没有一个中间人（操作系统）在进行协调，一台计算机上同时运行这么多的程序，怎么和平共处、一起共建和谐社会呢？

好了，不多说了，相信大家也大概知道了操作系统的地位和主要的工作了。那么操作系统负责管理计算机的资源，并且提供给应用程序来使用，那么通过什么途径呢？应用程序可以自己去随意调用硬件进行工作吗？当然不行，**必须有特定的途径**。而且**操作系统也有着绝对的裁决权利，可以随时结束掉不守规矩的应用程序**。从另一个角度说，操作系统既然垄断了所有的计算机资源，也就必须提供给运行于其上的应用程序特定的使用方式来使用操作系统的服务。否则应用程序拿不到计算机资源还怎么工作呢？操作系统提供的这个特定的途径就是所谓的系统调用。应用程序使用系统调用来使用操作系统包装好的高级服务，同时操作系统也会对系统调用进行审核和控制，从而限制应用程序对计算机资源的滥用。

系统调用听起来是不是很玄乎？其实没有那么神奇。简单的讲，系统调用的实现也就是一堆代码罢了。估计大家之前对C语言的库函数也有了一定的概念了，Linux的C语言库函数的实现是glibc这个项目，就是GNU的C语言标准库的实现。不过这个库除了C语言的标准库函数，还有一部分就是用C语言封装的Linux系统调用的函数。所以，前面说了这么多晕晕乎乎的东西，最直观的感觉是什么？啥是系统调用？不就是操作系统提供的一系列函数库呗。当然，系统调用最广泛的接口就是C语言的接口了。而对于我们而言，系统调用的使用上和使用一般的C语言库函数也没有什么不同，只是需要理解背后的一些概念和理论罢了。

怎么样？也没什么难理解的吧？不就是要学习一些Linux理论和一些“C语言函数”么。好了，我的话说完了，不知道你理解了啥叫系统调用了吗？

如果你不甘愿止步于此，那么去读这篇深入讲解系统调用的文章吧——[《Linux系统调用》](http://blog.sae.sina.com.cn/archives/2200)，当然，初出茅庐的你肯定看不懂，没关系，收藏起来。还记得篇首说的吗？学习了更多的知识后，回过头来再看。如果有一天你发现这篇文章so easy嘛，那么恭喜你，你离高手又进了一步呦。